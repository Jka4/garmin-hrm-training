(this["webpackJsonpgarmin-hrm-training"]=this["webpackJsonpgarmin-hrm-training"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(4),a=n.n(c),i=n(2),o=(n(9),n(0)),s=function(e){var t,n=e.currentHeartRate,c=e.currentZoneFinded,a=Object(r.useRef)(null),i=(null===a||void 0===a||null===(t=a.current)||void 0===t?void 0:t.offsetWidth)||0,s=5/109+1,u=i/(l-d),v=u*(n-d),f=n<=d?-10:v*s-(v*s-v),j=function(e){return(e.end-e.start)*u*s+"px"};return Object(o.jsxs)("div",{className:"slider-container",ref:a,children:[Object(o.jsx)("div",{className:"slider",children:null===h||void 0===h?void 0:h.map((function(e){return Object(o.jsx)("div",{className:"slider-elem",style:{background:e.color,width:j(e)}},e.name)}))}),Object(o.jsx)("div",{className:"pointer",children:!!c&&Object(o.jsx)("div",{className:"pointer-runner",style:{left:f}})})]})},u="HRM-Pro:121191",d=97,l=194,h=[{name:1,color:"gray",start:d,end:115},{name:2,color:"blue",start:116,end:134},{name:3,color:"green",start:135,end:153},{name:4,color:"orange",start:154,end:173},{name:5,color:"red",start:174,end:l}],v=function(){var e=Object(r.useState)(0),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),d=Object(i.a)(a,2),v=d[0],f=d[1],j=Object(r.useState)(null),m=Object(i.a)(j,2),b=m[0],g=m[1],O=function(e){var t=e.target.value.getUint8(1),n=e.target.service.device.gatt.connected;f(!!n),c(t)};Object(r.useEffect)((function(){navigator.bluetooth.getDevices().then((function(e){var t=e.find((function(e){return e.name===u}));return t&&g(t.name),t.addEventListener("gattserverdisconnected",(function(){f(!1)})),v?null:t.gatt.connect()})).then((function(e){return e.getPrimaryService("heart_rate")})).then((function(e){return e.getCharacteristic("heart_rate_measurement")})).then((function(e){return e.startNotifications().then((function(){e.addEventListener("characteristicvaluechanged",(function(e){O(e)}))}))})).catch((function(e){return console.error(e)}))}),[]);var x=h.find((function(e){return e.start<=n&&e.end>=n})),p="".concat(n>l?"red":(null===x||void 0===x?void 0:x.color)||"white");return Object(o.jsxs)("div",{id:"app",children:[Object(o.jsx)("button",{onClick:function(){return navigator.bluetooth.requestDevice({filters:[{services:["heart_rate"]}]}).then((function(e){return e.addEventListener("gattserverdisconnected",(function(){f(!1)})),e.gatt.connect()})).then((function(e){return e.getPrimaryService("heart_rate")})).then((function(e){return e.getCharacteristic("heart_rate_measurement")})).then((function(e){return e.startNotifications().then((function(t){e.addEventListener("characteristicvaluechanged",(function(e){O(e)}))}))})).catch((function(e){return console.error(e)}))},children:v?"CONNECTED":"START"}),Object(o.jsxs)("span",{children:["device: ",v?b:"-"]}),Object(o.jsx)(s,{currentHeartRate:n,currentZoneFinded:x}),Object(o.jsxs)("div",{className:"gauge",style:{background:p},children:[Object(o.jsx)("div",{className:"title",children:"HR:"}),Object(o.jsx)("div",{className:"hear-rate",children:n})]})]})},f=(n(11),document.getElementById("root"));a.a.render(Object(o.jsx)(v,{}),f)},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.27a26021.chunk.js.map